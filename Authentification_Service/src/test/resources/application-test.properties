spring.config.import=optional:file:.env[.properties]
#----------------------Configuration de H2 comme base de test--------------------#

spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
#----------------------Configuration de keycloak pour base de test--------------------#
# URL du serveur Keycloak
keycloak.auth-server-url=http://localhost:8081
# Nom du realm dans Keycloak
keycloak.realm=platforme-agile-test
# ID du client Keycloak
keycloak.resource=Authentification-Service-AGILIA-test
# Secret du client (si tu utilises un client confidentiel)
keycloak.credentials.secret=${credentials.secret.test}
# Configurations de l'integration de Keycloak avec Spring Security
# L'application utilise uniquement des tokens pour l'authentification
keycloak.bearer-only=true 
# Si ton client est public, mettez-le a true
keycloak.public-client=false

#----------------------Configuration pour connexion avec vault--------------------#

spring.cloud.vault.uri=https://localhost:8200
spring.cloud.vault.host=localhost
spring.cloud.vault.port=8200
spring.cloud.vault.authentication=TOKEN
spring.cloud.vault.token=${VAULT_TOKEN}
spring.cloud.vault.scheme=https
spring.cloud.vault.kv.enabled=true
spring.cloud.vault.kv.backend=secret
spring.cloud.vault.kv.default-context=keycloak
